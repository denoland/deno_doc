@tailwind components;
@tailwind utilities;

.ddoc {
  /* keep in sync with #topnav further down */
  @apply flex h-screen items-start gap-6 p-4 lg:p-2;

  &:not(:has(#categoryPanel)) {
    @apply lg:pt-4;
  }

  &:has(#categoryPanel) {
    & > div:not(#categoryPanel) {
      @apply lg:pt-4;
    }

    #topnav {
      @apply lg:-ml-6 lg:pl-6 !important;
    }
  }

  &:not(:has(#categoryPanel)),
  &:has(#categoryPanel) > div:not(#categoryPanel) {
    @apply pt-1;
  }

  & > div:not(#categoryPanel) {
    @apply flex flex-col flex-grow;
  }
}

#categoryPanel {
  @apply max-lg:hidden lg:flex lg:flex-col -mt-0 pt-0 w-[250px] flex-shrink-0 top-0 sticky max-h-screen h-fit box-border;
}

#content {
  @apply mt-4;

  & > main {
    @apply min-w-0 col-span-full pb-0 md:pb-8 lg:pb-12 flex flex-col gap-3 flex-grow;
  }

  &:has(.toc) > main {
    @apply lg:col-span-3 lg:row-start-1;
  }
}

#topnav {
  @apply -ml-4 pl-4 lg:-ml-2 lg:pl-2;
}

#content, #topnav > div {
  @apply flex flex-row justify-between gap-6 gap-8 lg:gap-12;
}

.toc, #searchbar {
  @apply flex-shrink-0 min-w-[250px] max-w-[300px];
}

.toc {
  @apply max-sm:hidden sm:flex sm:flex-col max-lg:row-start-1 lg:col-[span_1_/_-1] top-0 sticky max-h-screen h-fit box-border gap-y-4 -mt-14 pt-14;

  > div {
    @apply max-h-full lg:overflow-y-auto;

    > *:last-child {
      @apply pb-4;
    }
  }
}

#searchResults {
  @apply absolute bg-white inset-0 hidden;
}
