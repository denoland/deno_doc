@tailwind components;
@tailwind utilities;

.ddoc {
  @apply flex h-screen items-start gap-6 p-4 pt-2 lg:p-2 lg:pt-0 max-lg:pt-4;

  /* doesn't have categories panel */
  &:not(:has(> div.toc)) {
    @apply lg:pt-4;
  }

  /* Has categories panel, target non-categories panel content */
  &:has(> div.toc) > div:not(.toc) {
    @apply lg:pt-4;
  }

  /* Categories panel */
  & > .toc {
    @apply max-lg:hidden md:flex md:flex-col -mt-0 pt-0 h-full max-h-screen;
    @apply w-[290px] flex-shrink-0;

    h3 {
      @apply pt-3 !important;
    }
  }

  /* Non-categories panel content */
  & > div:not(.toc) {
    @apply flex flex-col flex-grow;
  }
}

#content {
  @apply mt-4;

  & > main {
    @apply min-w-0 col-span-full pb-0 md:pb-8 lg:pb-12 flex flex-col gap-3 flex-grow;
  }

  &:has(.toc) > main {
    @apply lg:col-span-3 lg:row-start-1;
  }

  .toc {
    @apply max-md:hidden xl:flex xl:flex-col;
  }
}

#content, #topnav > div {
  @apply flex flex-row justify-between gap-6 gap-8 lg:gap-12;
}

#content .toc, #searchbar {
  @apply flex-shrink-0 min-w-[250px] max-w-[300px];
}

.toc {
  @apply max-lg:row-start-1 lg:col-[span_1_/_-1] lg:top-0 lg:sticky lg:max-h-screen lg:h-fit flex flex-col box-border gap-y-4 -mt-14 pt-14;

  > div {
    @apply max-h-full lg:overflow-y-auto;

    > *:last-child {
      @apply pb-4;
    }
  }
}

#searchResults {
  @apply absolute bg-white inset-0 hidden;
}
